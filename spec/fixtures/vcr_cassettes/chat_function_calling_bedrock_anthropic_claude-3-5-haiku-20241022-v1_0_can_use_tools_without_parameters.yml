---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the best language to learn?"}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250402T124803Z
      X-Amz-Content-Sha256:
      - 5470b3b9e786d362a84d10e00f2ca7de6f684b36347b98361f45534636f69c1a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250402/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=bb79498e39c215b334f28601c9997dfc14631579258d60060ba9a35cf0402693
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 02 Apr 2025 12:48:05 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '430'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 9c5ec8ab-c4ab-4aaf-bbd0-493ee01b62ba
      X-Amzn-Bedrock-Invocation-Latency:
      - '1254'
      X-Amzn-Bedrock-Output-Token-Count:
      - '58'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01D62cULpUZTgu71Z94mH81Z","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01UJ2v6qc3Kmy4CQGcnV2Qkb","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"output_tokens":58}}'
  recorded_at: Wed, 02 Apr 2025 12:48:05 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the best language to learn?"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01UJ2v6qc3Kmy4CQGcnV2Qkb","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01UJ2v6qc3Kmy4CQGcnV2Qkb","content":"Ruby"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250402T124805Z
      X-Amz-Content-Sha256:
      - f83fca40d719e8dd18f9388ccbe71678de81d7f5b8c11fd7cdff95518b7d729a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250402/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b6c52f6f33596a674cfc9d0a81c7b397eeb8940e2cad47ff5ad241e458341cff
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 02 Apr 2025 12:48:09 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1170'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - cef75d83-ccf1-4069-95f8-7646a5d9ed67
      X-Amzn-Bedrock-Invocation-Latency:
      - '3445'
      X-Amzn-Bedrock-Output-Token-Count:
      - '199'
      X-Amzn-Bedrock-Input-Token-Count:
      - '397'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01STEK5XEbihusfGnJyzZnta","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn right now. Ruby is a dynamic,
        object-oriented programming language known for its simplicity and readability.
        It''s particularly popular for web development, especially with the Ruby on
        Rails framework. \n\nSome reasons why Ruby might be a great language to learn:\n1.
        Easy to read and write syntax\n2. Strong community support\n3. Used in web
        development\n4. Versatile for various programming tasks\n5. Good for beginners
        due to its intuitive nature\n\nHowever, the \"best\" language can depend on
        your specific goals, such as web development, data science, mobile app development,
        etc. If you have a particular area of interest, you might want to consider
        other languages as well. But if you''re looking for a versatile and beginner-friendly
        language, Ruby is an excellent choice.\n\nWould you like to know more about
        Ruby or discuss your specific programming goals?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":397,"output_tokens":199}}'
  recorded_at: Wed, 02 Apr 2025 12:48:09 GMT
recorded_with: VCR 6.3.1
