---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 17 Aug 2025 19:34:20 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "398f6cbf-8a5b-4f7b-b9e9-c2cf5450ed53", "model": "sonar", "created":
        1755459260, "usage": {"prompt_tokens": 25, "completion_tokens": 109, "total_tokens":
        134, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.rubyguides.com/2015/05/working-with-files-ruby/", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "https://github.com/mime-types/ruby-mime-types", "https://www.oracle.com/developer/what-is-ruby-for-developers/"],
        "search_results": [{"title": "Ruby - Overview", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2025-03-25", "last_updated": "2025-04-13"}, {"title": "How To Read
        & Write Files in Ruby (With Examples) - RubyGuides", "url": "https://www.rubyguides.com/2015/05/working-with-files-ruby/",
        "date": null, "last_updated": "2025-07-30"}, {"title": "Ruby (programming
        language)", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-07-13"}, {"title": "Ruby MIME
        type registry library - GitHub", "url": "https://github.com/mime-types/ruby-mime-types",
        "date": "2019-11-03", "last_updated": "2025-06-03"}, {"title": "What is Ruby?",
        "url": "https://www.oracle.com/developer/what-is-ruby-for-developers/", "date":
        "2024-06-10", "last_updated": "2025-06-15"}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file `ruby.txt` contains the simple text: **\"Ruby is the
        best.\"**\n\nThis phrase is a short statement expressing a positive opinion
        about Ruby. It does not include additional information or context beyond this
        sentence.\n\nFor context, **Ruby** is a popular, object-oriented, general-purpose
        programming language created by Yukihiro Matsumoto in the mid-1990s. It is
        known for its clean, easy-to-learn syntax and versatility in web development,
        automation, data processing, and more[1][3][5]."}, "delta": {"role": "assistant",
        "content": ""}}]}'
  recorded_at: Sun, 17 Aug 2025 19:34:20 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file `ruby.txt`
        contains the simple text: **\"Ruby is the best.\"**\n\nThis phrase is a short
        statement expressing a positive opinion about Ruby. It does not include additional
        information or context beyond this sentence.\n\nFor context, **Ruby** is a
        popular, object-oriented, general-purpose programming language created by
        Yukihiro Matsumoto in the mid-1990s. It is known for its clean, easy-to-learn
        syntax and versatility in web development, automation, data processing, and
        more[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and in this
        one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 17 Aug 2025 19:34:27 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "7c1b2ec8-99e8-4afa-9f10-cfc86d968526", "model": "sonar", "created":
        1755459266, "usage": {"prompt_tokens": 164, "completion_tokens": 213, "total_tokens":
        377, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://learn.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/ms256118(v=vs.100)",
        "https://support.microsoft.com/en-us/office/xml-for-the-uninitiated-a87d234d-4c2e-4409-9cbc-45e4eb857d44",
        "https://geckwiki.com/index.php?title=Tutorial%3A_Understanding_XML", "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html"],
        "search_results": [{"title": "XML Schema Tutorial - Defining Elements and
        Attributes", "url": "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10"}, {"title": "<xsd:element>
        Element", "url": "https://learn.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/ms256118(v=vs.100)",
        "date": "2011-02-21", "last_updated": "2025-08-14"}, {"title": "XML for the
        uninitiated", "url": "https://support.microsoft.com/en-us/office/xml-for-the-uninitiated-a87d234d-4c2e-4409-9cbc-45e4eb857d44",
        "date": "2024-06-06", "last_updated": "2025-06-16"}, {"title": "Tutorial:
        Understanding XML", "url": "https://geckwiki.com/index.php?title=Tutorial%3A_Understanding_XML",
        "date": "2025-06-12", "last_updated": "2025-07-13"}, {"title": "Instruction
        Definition XML elements", "url": "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html",
        "date": null, "last_updated": "2025-08-07"}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file `ruby.xml` contains an XML document with a single element
        `<truism>` that encloses the text **\"Ruby is the best\"**. Specifically,
        the content looks like this:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\nThis
        means the file expresses the same statement as the text file but wraps it
        within an XML element named \"truism,\" which tags the data as a particular
        piece of information. The XML structure explicitly marks the phrase as a meaningful
        unit, making the data self-describing in a machine-readable way[3][4].\n\nIn
        XML:\n\n- **Elements** like `<truism>` define the structure and type of data
        contained[1].\n- XML tags allow data to be identified and classified, which
        is useful for processing, validation, or transformation[3].\n\nThus, the XML
        file conveys the same simple message, adding semantic markup with the `<truism>`
        element around \"Ruby is the best.\"\n\nNo additional data or attributes are
        present in this XML file beyond this single tagged phrase."}, "delta": {"role":
        "assistant", "content": ""}}]}'
  recorded_at: Sun, 17 Aug 2025 19:34:27 GMT
recorded_with: VCR 6.3.1
